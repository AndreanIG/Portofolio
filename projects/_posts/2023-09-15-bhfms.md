---
layout: page
title: "BHFMS — Boarding House Finder & Management System (VILT)"
subtitle: "Web-based marketplace + operations hub for Indonesian boarding houses"
permalink: /projects/bhfms/
description: "VILT-stack marketplace and operations hub for Indonesian boarding houses—distance-aware search, payments, chat, reviews, inventory, and admin verification."
---

![BHFMS Logo](/assets/img/projects/bhfms.gif){: .img-fluid .rounded .shadow }  
<h3 id="demo">Project Demo</h3>
<p>
  <a class="btn" href="https://youtu.be/u0tEqIIhDS0" target="_blank" rel="noopener">
    <svg aria-hidden="true" viewBox="0 0 24 24"
         style="width:1em;height:1em;vertical-align:-0.2em;margin-right:.4em;">
      <path fill="currentColor"
            d="M23.5 6.2a4 4 0 0 0-2.8-2.8C18.8 3 12 3 12 3s-6.8 0-8.7.4A4 4 0 0 0 .5 6.2 41 41 0 0 0 0 12a41 41 0 0 0 .5 5.8 4 4 0 0 0 2.8 2.8C5.2 21 12 21 12 21s6.8 0 8.7-.4a4 4 0 0 0 2.8-2.8A41 41 0 0 0 24 12a41 41 0 0 0-.5-5.8zM9.7 15.5V8.5l6 3.5-6 3.5z"/>
    </svg>
    Watch on YouTube
  </a>
</p>

---
<strong>BHFMS (Boarding House Finder & Management System)</strong> is a full-featured web application created as my Bachelor’s thesis at <strong>Bina Nusantara University</strong>, developed together with <strong>Aditya Winata</strong> and <strong>Gardion Philipus Saltana</strong>, and supervised by <strong>Pualam Dipa Nusantara, S.Kom., M.Kom.</strong>  
The system serves both as a modern marketplace for Indonesian boarding houses (kos-kosan) and as an operational dashboard for owners, tenants, and admins.


---

### Background & Problem

Jakarta’s growing urbanization and the high cost of housing make boarding houses essential for students and workers. Existing platforms only focus on listing properties, but still lack features for operations (payment management, complaints, inventory), verified information, and seamless communication between tenants and landlords.

BHFMS fills this gap by unifying search, management, and communications in a single VILT-stack web platform.

---

### Project Overview

BHFMS enables:
- **Centralized discovery:** Search and filter kos-kosan by location, price, facilities, and more.
- **Verified operations:** Owners and managers can manage tenants, payments, complaints, and property inventories.
- **Effortless communication:** Tenants chat directly with owners/managers, upload payment proofs, and raise complaints; admins ensure trust and moderation.

Role-based access ensures each user group (tenant, owner/manager, admin) has the right tools for their needs.

---

### Features by Role

- **Tenant:** Search, distance filter, rich listings, wishlist, reviews, chat, complaints, upload payment proofs.
- **Owner/Manager:** Dashboards for properties, tenants, payments, inventory, complaints, and chat.
- **Admin:** Listing verification, transaction oversight, moderation, pre-publish approvals.

---

### Tech Stack

- **Vue.js** + **Tailwind CSS** (frontend)
- **Inertia.js** (SPA routing)
- **Laravel** (backend)
- **Pusher/Laravel Echo** (real-time messaging)
- **SQL** (structured roles, payments, chats, reviews, complaints)
- **AWS Lightsail + NGINX Unit** (deployment)
- **Advanced search/ranking with Haversine**  
- **Robust, fair review ranking with Bayesian average**

---

### Smart Search: Haversine Formula

BHFMS uses the Haversine formula for accurate, location-based search—ranking boarding houses by true real-world distance (great-circle) to the user’s target location.

#### Mathematical Formula

$$
\Delta\phi = \phi_2 - \phi_1,\qquad \Delta\lambda = \lambda_2 - \lambda_1
$$

$$
a = \sin^2\left(\frac{\Delta\phi}{2}\right) + \cos(\phi_1)\cos(\phi_2)\sin^2\left(\frac{\Delta\lambda}{2}\right)
$$

$$
c = 2\arcsin\left(\sqrt{a}\right)
$$

$$
d = R \cdot c
$$

Where:  
- Using $$ R \approx 6371\,\mathrm{km} $$
- All angles must be in radians.
 

Convert degrees to radians before applying the formula. For performance, results may be pre-filtered by a bounding box.

---

#### Laravel/SQL Implementation Example of Harvesian
~~~php
// file: "snippets/mysql_haversine.php"
$lat = (float) request('lat');
$lon = (float) request('lon');
$R   = 6371; // km

$haversine = "(
    $R * 2 * ASIN(
        SQRT(
            POW(SIN(RADIANS(properties.latitude  - ?) / 2), 2) +
            COS(RADIANS(?)) * COS(RADIANS(properties.latitude)) *
            POW(SIN(RADIANS(properties.longitude - ?) / 2), 2)
        )
    )
)";

$properties = Property::query()
    ->select('properties.*')
    ->selectRaw("$haversine AS distance_km", [$lat, $lat, $lon])
    ->orderBy('distance_km')
    ->paginate(20);
MySQL/MariaDB — raw Haversine with bindings (`properties.latitude - ?`, `properties.longitude - ?`; middle `?` reused for `COS(lat1)`).
~~~

---

### Bayesian Rating: Fair Property Rankings

To avoid ranking properties unfairly (for example, where a single 5-star review boosts a new listing to the top), BHFMS uses a **Bayesian average** for property ratings.

#### Bayesian Rating Formula

$$
\text{Bayesian\_rating} = \frac{v}{v+m} \cdot R + \frac{m}{v+m} \cdot C
$$

Where:

- Average rating for the property: $$R$$  
- Number of reviews for the property: $$v$$  
- Minimum reviews required for confidence (e.g., 5 or 10): $$m$$  
- Mean rating across all properties: $$C$$  

How it works:

Properties with few ratings are pulled closer to the global mean $$C$$.  
As reviews grow, the score reflects the property’s real reputation $$R$$.  
Prevents new or manipulated listings from unfairly topping search results.

---

#### Laravel/SQL Implementation Example of Harvesian
~~~php
// file: "snippets/mysql_bayesian.php"
$m = 10;
$C = (float) (Review::avg('rating') ?? 0.0);

$properties = Property::query()
->withCount('reviews') // ->reviews_count
->withAvg('reviews', 'rating') // ->reviews_avg_rating
->get()
->map(function ($p) use ($m, $C) {
$v = (int) ($p->reviews_count ?? 0);
$R = (float) ($p->reviews_avg_rating ?? 0.0);
$p->bayesian_rating = ($v/($v+$m)) * $R + ($m/($v+$m)) * $C;
return $p;
})
->sortByDesc('bayesian_rating')
->values();
~~~

<p><small><em>Completed September 2022 · Bina Nusantara University · Thesis</em></small></p>
